(window.webpackJsonp=window.webpackJsonp||[]).push([[16,43],{106:function(e,t,n){"use strict";n.r(t);n(1),n(6),n(7),n(8),n(10),n(33),n(30),n(29),n(190),n(182);function r(e){e.theme="bs3"}angular.module("graphdb.framework.sparql",["LocalStorageModule","xeditable","ngAnimate","ngRoute","toastr","graphdb.framework.core.directives","graphdb.framework.core.services.repositories","graphdb.framework.rest.sparql.service","graphdb.framework.core.directives.queryeditor.controllers","graphdb.framework.core.directives.queryeditor.sparqltab","graphdb.framework.core.directives.queryeditor.queryeditor"]).run(r),r.$inject=["editableOptions"]},182:function(e,t,n){var r,o=o||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o=e.webkitRequestFileSystem,a=e.requestFileSystem||o||e.mozRequestFileSystem,i=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=0,c=function(t){var r=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?r():setTimeout(r,500)},l=function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(e){i(e)}}},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},d=function(t,i){t=u(t);var d,f,b,p=this,m=t.type,h=!1,g=function(){l(p,"writestart progress write writeend".split(" "))},w=function(){(!h&&d||(d=n().createObjectURL(t)),f)?f.location.href=d:null==e.open(d,"_blank")&&"undefined"!=typeof safari&&(e.location.href=d);p.readyState=p.DONE,g(),c(d)},y=function(e){return function(){if(p.readyState!==p.DONE)return e.apply(this,arguments)}},v={create:!0,exclusive:!1};if(p.readyState=p.INIT,i||(i="download"),r)return d=n().createObjectURL(t),r.href=d,r.download=i,void setTimeout(function(){var e,t;e=r,t=new MouseEvent("click"),e.dispatchEvent(t),g(),c(d),p.readyState=p.DONE});e.chrome&&m&&"application/octet-stream"!==m&&(b=t.slice||t.webkitSlice,t=b.call(t,0,t.size,"application/octet-stream"),h=!0),o&&"download"!==i&&(i+=".download"),("application/octet-stream"===m||o)&&(f=e),a?(s+=t.size,a(e.TEMPORARY,s,y(function(e){e.root.getDirectory("saved",v,y(function(e){var n=function(){e.getFile(i,v,y(function(e){e.createWriter(y(function(n){n.onwriteend=function(t){f.location.href=e.toURL(),p.readyState=p.DONE,l(p,"writeend",t),c(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=p["on"+e]}),n.write(t),p.abort=function(){n.abort(),p.readyState=p.DONE},p.readyState=p.WRITING}),w)}),w)};e.getFile(i,{create:!1},y(function(e){e.remove(),n()}),y(function(e){e.code===e.NOT_FOUND_ERR?n():w()}))}),w)}),w)):w()},f=d.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t){return navigator.msSaveOrOpenBlob(u(e),t)}:(f.abort=function(){this.readyState=this.DONE,l(this,"abort")},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(e,t){return new d(e,t)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */e.exports?e.exports.saveAs=o:null!==n(183)&&null!=n(184)&&(void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r))},183:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},184:function(e,t){(function(t){e.exports=t}).call(this,{})},33:function(e,t,n){"use strict";n.r(t);n(5);function r(e,t,n,r){return{restrict:"AE",template:'<a class="nav-link" role="tab" data-toggle="tab" blur="submit" editable-text="tab.name" e-form="editCurrentlySelectedOnly" ng-click="selectThisTab($event)" ng-dblclick="editCurrentTab()" ><span ng-class="{\'text-muted\': !tab.name}">{{ tab.name || \'Unnamed\'}}</span><button type="button" ng-click="deleteTab($event)" class="btn btn-link btn-sm secondary delete-sparql-tab-btn" title="Delete tab"><i class="icon-close"></i></button></a>',replace:!0,controller:["$scope","$element","$rootScope","ModalService","toastr",function(e,r,o,a,i){function s(e){return $(e).attr("data-id")}function c(e){$('a[data-id = "'+e+'"]').tab("show")}e.state={},$(r).on("shown.bs.tab",function(e){o.$broadcast("tabAction",e)}),e.deleteTab=function(l){if(l.preventDefault(),l.stopPropagation(),e.tabs.length<2)return void i.warning("Last tab must remain open.");l.shiftKey?(e.state.selectedTabId=s(r),a.openSimpleModal({title:"Confirm",message:"Are you sure you want to delete all query tabs except selected tab?",warning:!0}).result.then(function(){var r;r=e.state.selectedTabId,e.tabs=e.tabs.filter(function(e){if(e.id===r)return e}),c(e.tabs[0].id),t.set(n.TABS_STATE,e.tabs),o.$broadcast("deleteAllexeptSelected",e.tabs)})):(e.state.idForDelete=s(r),a.openSimpleModal({title:"Confirm",message:"Are you sure you want to close this query tab?",warning:!0}).result.then(function(){!function(t){if(angular.isUndefined(t))throw"Delete by id was called with undefined id";const n=function(t){for(let n=0;n<e.tabs.length;n++)if(e.tabs[n].id===t)return n}(t);e.tabs.splice(n,1),t===e.currentQuery.id&&e.tabs.length>0&&c(n>0?e.tabs[n-1].id:e.tabs[0].id)}(e.state.idForDelete)}));angular.element(document).find(".CodeMirror textarea:first-child").focus()},e.editCurrentTab=function(){if(s(r)!==e.currentQuery.id)return;e.editCurrentlySelectedOnly.$show();const t=$(".editable-buttons");t.children(".btn.btn-primary").addClass("btn-sm"),t.children(".btn.btn-default").addClass("btn-sm"),$(".editable-controls .editable-input").addClass("form-control-sm").on("change",function(t){e.currentQuery.name=t.currentTarget.$$currentValue}),$(".editable-buttons .glyphicon.glyphicon-ok").removeClass("glyphicon glyphicon-ok").addClass("fa fa-check"),$(".editable-buttons .glyphicon.glyphicon-remove").removeClass("glyphicon glyphicon-remove").addClass("fa fa-close")},e.selectThisTab=function(t){t.preventDefault(),t.stopPropagation(),e.isTabChangeOk(!1)&&$(r).tab("show")}}]}}angular.module("graphdb.framework.core.directives.queryeditor.sparqltab",["graphdb.framework.core","graphdb.framework.utils.localstorageadapter"]).directive("sparqlTab",r),r.$inject=["$rootScope","LocalStorageAdapter","LSKeys","ModalService"]}}]);
//# sourceMappingURL=16.2330c4f67e18588bc4c7.bundle.js.map